<!DOCTYPE html>
<html>
<head>
    <title>æ™ºèƒ½å¤´ç›”ç³»ç»Ÿ - æ¼”ç¤ºç‰ˆ</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:Arial; padding:20px; background:#f5f5f5; }
        .container { max-width:800px; margin:0 auto; background:white; padding:30px; border-radius:15px; }
        h1 { color:#1890ff; margin-bottom:20px; text-align:center; }
        .demo-map { height:400px; background:#e8f4fd; border-radius:10px; margin:20px 0; position:relative; }
        .marker { position:absolute; width:20px;height:20px;background:#1890ff;border-radius:50%;border:3px solid white; }
        .dest { background:red; }
        .controls { display:flex; gap:10px; margin:20px 0; }
        button { padding:12px 24px; background:#1890ff; color:white; border:none; border-radius:8px; cursor:pointer; }
        .status { padding:15px; background:#f0f8ff; border-radius:8px; margin:20px 0; }
        .data-panel { display:grid; grid-template-columns:repeat(2,1fr); gap:15px; margin:20px 0; }
        .data-item { padding:15px; background:#f9f9f9; border-radius:8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸï¸ æ™ºèƒ½å¤´ç›”ç›‘æ§å¯¼èˆªç³»ç»Ÿ - æ¼”ç¤ºæ¨¡å¼</h1>
        
        <div class="status" id="status">
            <h3>ğŸ“Š ç³»ç»ŸçŠ¶æ€</h3>
            <p>ç½‘ç»œç¯å¢ƒå—é™ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡ŒåŠŸèƒ½æ¼”ç¤º</p>
            <p style="color:#666;font-size:14px;">é€‚åˆåµŒå…¥å¼æ¯”èµ›å±•ç¤ºåŠŸèƒ½é€»è¾‘</p>
        </div>
        
        <div class="demo-map" id="demoMap">
            <!-- æ¨¡æ‹Ÿåœ°å›¾ -->
            <div class="marker" style="top:50%;left:50%;transform:translate(-50%,-50%);" id="myMarker"></div>
            <div class="marker dest" style="top:30%;left:70%;" id="destMarker"></div>
            <div id="routeLine" style="position:absolute;top:50%;left:50%;width:100px;height:2px;background:#1890ff;transform-origin:0 0;transform:rotate(45deg);"></div>
        </div>
        
        <div class="controls">
            <input type="text" id="destInput" placeholder="è¾“å…¥ç›®çš„åœ°" style="flex:1;padding:12px;border:1px solid #ddd;">
            <button onclick="simulateLocation()">ğŸ“ æ¨¡æ‹Ÿå®šä½</button>
            <button onclick="simulateNavigation()">ğŸš€ æ¨¡æ‹Ÿå¯¼èˆª</button>
            <button onclick="simulateCrash()">ğŸ’¥ æ¨¡æ‹Ÿç¢°æ’</button>
        </div>
        
        <div class="data-panel">
            <div class="data-item">
                <h4>ğŸ“ ä½ç½®ä¿¡æ¯</h4>
                <p>çº¬åº¦: <span id="lat">39.90923</span></p>
                <p>ç»åº¦: <span id="lng">116.397428</span></p>
                <p>ç²¾åº¦: <span id="accuracy">10ç±³</span></p>
            </div>
            <div class="data-item">
                <h4>ğŸ“± è®¾å¤‡çŠ¶æ€</h4>
                <p>ç”µé‡: <span id="battery">92%</span> ğŸ”‹</p>
                <p>æ¸©åº¦: <span id="temp">28Â°C</span></p>
                <p>é€Ÿåº¦: <span id="speed">35 km/h</span></p>
            </div>
            <div class="data-item">
                <h4>ğŸ›¡ï¸ å®‰å…¨çŠ¶æ€</h4>
                <p>å¤´ç›”ä½©æˆ´: <span id="helmet" style="color:green;">æ­£å¸¸ âœ“</span></p>
                <p>ç¢°æ’æ£€æµ‹: <span id="crash" style="color:green;">æ­£å¸¸ âœ“</span></p>
                <p>SOSçŠ¶æ€: <span id="sos" style="color:green;">æ­£å¸¸ âœ“</span></p>
            </div>
            <div class="data-item">
                <h4>ğŸ§­ å¯¼èˆªä¿¡æ¯</h4>
                <p>ç›®çš„åœ°: <span id="destination">--</span></p>
                <p>è·ç¦»: <span id="distance">--</span></p>
                <p>æ—¶é—´: <span id="time">--</span></p>
            </div>
        </div>
        
        <div style="text-align:center; margin-top:30px; color:#666; font-size:14px;">
            <p>Â© 2024 æ™ºèƒ½å¤´ç›”é¡¹ç›® - åµŒå…¥å¼æ¯”èµ›æ¼”ç¤ºç³»ç»Ÿ</p>
            <p>è¯´æ˜ï¼šç½‘ç»œå—é™ç¯å¢ƒä¸‹ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®å±•ç¤ºå®Œæ•´åŠŸèƒ½</p>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ®
        let currentLocation = { lat: 39.90923, lng: 116.397428 };
        let destination = null;
        let isNavigating = false;
        
        // æ¨¡æ‹Ÿå®šä½
        function simulateLocation() {
            // éšæœºç”Ÿæˆé™„è¿‘ä½ç½®
            currentLocation.lat = 39.90923 + (Math.random() - 0.5) * 0.01;
            currentLocation.lng = 116.397428 + (Math.random() - 0.5) * 0.01;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('lat').textContent = currentLocation.lat.toFixed(6);
            document.getElementById('lng').textContent = currentLocation.lng.toFixed(6);
            document.getElementById('accuracy').textContent = (Math.random() * 20 + 5).toFixed(1) + 'ç±³';
            
            // ç§»åŠ¨æ ‡è®°
            const mapDiv = document.getElementById('demoMap');
            const marker = document.getElementById('myMarker');
            const width = mapDiv.offsetWidth;
            const height = mapDiv.offsetHeight;
            
            // æ¨¡æ‹Ÿåœ¨åœ°å›¾ä¸Šçš„ä½ç½®
            const x = 50 + (currentLocation.lng - 116.397428) * 10000;
            const y = 50 - (currentLocation.lat - 39.90923) * 10000;
            
            marker.style.left = Math.max(10, Math.min(90, x)) + '%';
            marker.style.top = Math.max(10, Math.min(90, y)) + '%';
            
            // æ›´æ–°çŠ¶æ€
            document.getElementById('status').innerHTML = 
                '<h3>âœ… æ¨¡æ‹Ÿå®šä½æˆåŠŸ</h3>' +
                '<p>çº¬åº¦: ' + currentLocation.lat.toFixed(6) + '</p>' +
                '<p>ç»åº¦: ' + currentLocation.lng.toFixed(6) + '</p>' +
                '<p>æ¨¡æ‹ŸGPSæ¨¡å—è·å–ä½ç½®æ•°æ®</p>';
            
            // æ›´æ–°è®¾å¤‡æ•°æ®
            updateDeviceData();
        }
        
        // æ¨¡æ‹Ÿå¯¼èˆª
        function simulateNavigation() {
            const dest = document.getElementById('destInput').value.trim();
            if (!dest) {
                alert('è¯·è¾“å…¥ç›®çš„åœ°');
                return;
            }
            
            destination = dest;
            isNavigating = true;
            
            // æ˜¾ç¤ºç›®çš„åœ°æ ‡è®°
            const destMarker = document.getElementById('destMarker');
            destMarker.style.display = 'block';
            
            // æ˜¾ç¤ºè·¯çº¿
            document.getElementById('routeLine').style.display = 'block';
            
            // è®¡ç®—æ¨¡æ‹Ÿè·ç¦»å’Œæ—¶é—´
            const distance = (Math.random() * 20 + 5).toFixed(1);
            const time = Math.ceil(distance * 3);
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('destination').textContent = dest;
            document.getElementById('distance').textContent = distance + ' å…¬é‡Œ';
            document.getElementById('time').textContent = time + ' åˆ†é’Ÿ';
            
            document.getElementById('status').innerHTML = 
                '<h3>ğŸ—ºï¸ æ¨¡æ‹Ÿå¯¼èˆªå¼€å§‹</h3>' +
                '<p>ç›®çš„åœ°: ' + dest + '</p>' +
                '<p>è·ç¦»: ' + distance + ' å…¬é‡Œ</p>' +
                '<p>é¢„è®¡æ—¶é—´: ' + time + ' åˆ†é’Ÿ</p>' +
                '<p>æ¨¡æ‹Ÿè·¯çº¿è§„åˆ’å’Œå®æ—¶å¯¼èˆª</p>';
            
            // å¼€å§‹æ¨¡æ‹Ÿç§»åŠ¨
            startSimulation();
        }
        
        // æ¨¡æ‹Ÿç§»åŠ¨
        function startSimulation() {
            let step = 0;
            const interval = setInterval(() => {
                if (!isNavigating) {
                    clearInterval(interval);
                    return;
                }
                
                // æ¨¡æ‹Ÿç§»åŠ¨
                const angle = step * 0.1;
                const radius = 0.001;
                
                const marker = document.getElementById('myMarker');
                const x = 50 + Math.cos(angle) * 20;
                const y = 50 + Math.sin(angle) * 20;
                
                marker.style.left = x + '%';
                marker.style.top = y + '%';
                
                // æ›´æ–°é€Ÿåº¦
                const speed = Math.floor(Math.random() * 20 + 30);
                document.getElementById('speed').textContent = speed + ' km/h';
                
                step++;
                
                // 10æ­¥ååœæ­¢
                if (step > 30) {
                    clearInterval(interval);
                    document.getElementById('status').innerHTML = 
                        '<h3>âœ… æ¨¡æ‹Ÿå¯¼èˆªå®Œæˆ</h3>' +
                        '<p>å·²åˆ°è¾¾ç›®çš„åœ°</p>' +
                        '<p>æ¼”ç¤ºåµŒå…¥å¼å¤´ç›”å¯¼èˆªåŠŸèƒ½</p>';
                }
            }, 500);
        }
        
        // æ¨¡æ‹Ÿç¢°æ’
        function simulateCrash() {
            document.getElementById('crash').innerHTML = '<span style="color:red;">ç¢°æ’è­¦å‘Šï¼</span> ğŸ”´';
            document.getElementById('status').innerHTML = 
                '<h3 style="color:red;">ğŸš¨ æ¨¡æ‹Ÿç¢°æ’æ£€æµ‹</h3>' +
                '<p>æ£€æµ‹åˆ°å‰§çƒˆå†²å‡»ï¼</p>' +
                '<p>è‡ªåŠ¨å‘é€ä½ç½®ä¿¡æ¯ç»™ç´§æ€¥è”ç³»äºº</p>' +
                '<p>å¯åŠ¨ç´§æ€¥åˆ¶åŠ¨ç³»ç»Ÿ</p>';
            
            // é—ªçƒè­¦ç¤º
            const statusDiv = document.getElementById('status');
            let flashCount = 0;
            const flashInterval = setInterval(() => {
                statusDiv.style.background = flashCount % 2 ? '#fee' : '#fff';
                flashCount++;
                if (flashCount > 10) {
                    clearInterval(flashInterval);
                    statusDiv.style.background = '#f0f8ff';
                    document.getElementById('crash').innerHTML = '<span style="color:green;">æ­£å¸¸ âœ“</span>';
                }
            }, 300);
        }
        
        // æ›´æ–°è®¾å¤‡æ•°æ®
        function updateDeviceData() {
            // æ¨¡æ‹Ÿç”µæ± æ¶ˆè€—
            const battery = Math.floor(Math.random() * 10 + 85);
            document.getElementById('battery').textContent = battery + '%';
            
            // æ¨¡æ‹Ÿæ¸©åº¦
            const temp = Math.floor(Math.random() * 10 + 25);
            document.getElementById('temp').textContent = temp + 'Â°C';
            
            // éšæœºé€Ÿåº¦
            const speed = Math.floor(Math.random() * 30 + 20);
            document.getElementById('speed').textContent = speed + ' km/h';
        }
        
        // åˆå§‹åŒ–
        document.getElementById('status').innerHTML = 
            '<h3>ğŸï¸ æ™ºèƒ½å¤´ç›”ç³»ç»Ÿ - æ¼”ç¤ºæ¨¡å¼</h3>' +
            '<p>å½“å‰ç½‘ç»œç¯å¢ƒå—é™ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®å±•ç¤ºåŠŸèƒ½</p>' +
            '<p style="color:#666;">é€‚ç”¨äºåµŒå…¥å¼æ¯”èµ›åŠŸèƒ½æ¼”ç¤º</p>' +
            '<p>ç‚¹å‡»"æ¨¡æ‹Ÿå®šä½"å¼€å§‹æ¼”ç¤º</p>';
        
        // åˆå§‹è®¾å¤‡æ•°æ®
        updateDeviceData();
        
        // éšè—ç›®çš„åœ°æ ‡è®°å’Œè·¯çº¿
        document.getElementById('destMarker').style.display = 'none';
        document.getElementById('routeLine').style.display = 'none';
    </script>
</body>
</html>
